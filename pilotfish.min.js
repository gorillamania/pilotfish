/* Pilotfish, a toolkit for improving user experience, v0.1.0 http://pilotfish.io
Copyright (c) 2012 Nick Sullivan, MIT license https://github.com/pilotfish/pilotfish/blob/master/LICENSE */
(function(e,t,n,r){function c(){return!t.querySelector||!e.console||!e.JSON?!1:e.jQuery?!0:!1}function b(e){return jQuery.isPlainObject(e)}if(e.Pilotfish&&e.Pilotfish.version)return;var i={},s=[],o={},u={},a={},f=c(),l=e.Pilotfish&&e.Pilotfish.q||[],h=function(){if(!arguments.length)return!0;if(!f)return!0;var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return typeof h[e]=="function"?h[e].apply(h,t):typeof i[e]=="function"?i[e].apply(h,t):typeof u[e]=="function"?u[e].apply(h,t):!1};e.Pilotfish=h,h.version="0.1.0",h.core=function(e,t){i[e]=t},h.register=function(e,t){u[e]=t};var p=i.subscribe=function(){var e=jQuery(h);return e.on.apply(e,arguments),!0},d=i.unsubscribe=function(){var e=jQuery(h);e.off.apply(e,arguments)},v=i.publish=function(){var e=jQuery(h);return m({name:arguments[0],args:arguments}),e.trigger.apply(e,arguments),!0},m=i.eventLog=function(e){return e&&s.push(e),s},g=i.each=function(e,t){jQuery.each(e,t)},y=i.extend=function(e,t){return jQuery.extend(e,t)},w=i.log=function(t){e.console&&e.console.log.apply(e.console,arguments)},E=i.pageData=function(e,t){return t!==r&&(o[e]=T(t)),o[e]||""},S=i.setting=function(e,t){return t!==r&&(a[e]=T(t)),a[e]||""},x=i.S=function(e){return jQuery(e)},T=i.toS=function(e){return e===r||e===null||typeof e=="number"&&isNaN(e)?"":typeof e=="object"?JSON.stringify(e):""+e};(function(){for(var t=0,n=l.length;t<n;t++)h.apply(h,l[t]);l=[]})()})(window,document,location);