/* Pilotfish tracker plugin, see https://github.com/pilotfish/pilotfish/blob/master/plugins/tracker
* Copyright (c) 2012 Nick Sullivan, MIT license https://github.com/pilotfish/pilotfish/blob/master/LICENSE */
Pilotfish("register","trackerInit",function(e){function r(t,r,i){switch(t){case"mixpanel":r==n?window.mixpanel&&window.mixpanel.track_pageview(i.path):window.mixpanel&&window.mixpanel.track(r);break;case"quantcast":r==n&&window._qevents&&window._qevents.push({qacct:e.backends[t].accountid});break;case"google-analytics":var s=window._gat._getTracker(e.backends[t].accountid);r==n?s._trackPageview(i.path):s._trackEvent("pilotfish",r);break;default:Pilotfish("error","Invalid backend for tracker")}}function i(t,n){for(var i in e.backends)e.backends.hasOwnProperty(i)&&(r(i,t.type,n),Pilotfish("publish","plugin:tracker:recordEvent",{evt:t.type,data:n}))}var t="0.3.0";e=Pilotfish("extend",{backends:{},events:[],hashChangePageView:!1},e);var n="pageview";if(e.events)for(var s=0;s<e.events.length;s++)Pilotfish("subscribe",e.events[s],i);return Pilotfish("register","tracker",i),e.hashChangePageView&&Pilotfish("subscribe","window:hashchange",function(e){i("pageview",e)}),!0});