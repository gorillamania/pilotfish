/* Pilotfish tracker plugin, see https://github.com/pilotfish/pilotfish/blob/master/plugins/tracker
* Copyright (c) 2012 Nick Sullivan, MIT license https://github.com/pilotfish/pilotfish/blob/master/LICENSE */
Pilotfish("registerPlugin","trackerInit",function(e){function n(n,r,i){switch(n){case"mixpanel":r==t?window.mixpanel&&window.mixpanel.track_pageview(i.path):window.mixpanel&&window.mixpanel.track(r);break;case"quantcast":r==t&&window._qevents&&window._qevents.push({qacct:e.backends[n].accountid});break;case"google-analytics":var s=window._gat._getTracker(e.backends[n].accountid);r==t?s._trackPageview(i.path):s._trackEvent("pilotfish",r);break;default:Pilotfish("error","Invalid backend for tracker")}}function r(t,r){for(var i in e.backends)e.backends.hasOwnProperty(i)&&(n(i,t.type,r),Pilotfish("publish","plugin:tracker:recordEvent",{evt:t.type,data:r}))}this.version="0.3.0",e=Pilotfish("extend",{backends:{},events:[],hashChangePageView:!1},e);var t="pageview";Pilotfish("registerPlugin","tracker",r);if(e.events)for(var i=0;i<e.events.length;i++)Pilotfish("subscribe",e.events[i],r);return e.hashChangePageView&&Pilotfish("subscribe","window:hashchange",function(e){r("pageview",e)}),!0});