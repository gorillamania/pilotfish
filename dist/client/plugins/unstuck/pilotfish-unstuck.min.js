/* Pilotfish unstuck plugin, see https://github.com/pilotfish/pilotfish/blob/master/plugins/unstuck
* Copyright (c) 2012 Nick Sullivan, MIT license https://github.com/pilotfish/pilotfish/blob/master/LICENSE */
Pilotfish("registerPlugin","unstuck",function(e){function r(e){Pilotfish("trigger",t.eventPrefix,{name:e,target:i(u())})}function i(e){return e.outerHTML}function s(e){return jQuery(e).css("cursor")==="pointer"}function o(){return n.length===0?null:n[n.length-1].pointer}function u(){return n.length===0?null:n[n.length-1].target}var t={version:"0.2.0",name:"unstuck",eventPrefix:"plugins:unstuck"};e=Pilotfish("extend",{},e),Pilotfish("on","window:hashchange",function(e){o()===!1&&r("hash_change_no_pointer")});var n=[];return jQuery(document).click(function(e){n.push({when:(new Date).getTime(),target:e.target,pointer:s(e.target)}),n.length>5&&n.shift()}),!0});